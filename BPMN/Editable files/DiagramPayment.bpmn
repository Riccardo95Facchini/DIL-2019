<?xml version="1.0" encoding="UTF-8"?>
<bpmn:definitions xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:bpmn="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:dc="http://www.omg.org/spec/DD/20100524/DC" xmlns:di="http://www.omg.org/spec/DD/20100524/DI" id="Definitions_0r3qmua" targetNamespace="http://bpmn.io/schema/bpmn" exporter="bpmn-js (https://demo.bpmn.io)" exporterVersion="3.3.0">
  <bpmn:collaboration id="Collaboration_185k3mm">
    <bpmn:participant id="Participant_034zhgg" name="Customer" processRef="Process_0m2y7r9" />
    <bpmn:participant id="Participant_1mie2ec" name="Payment system" processRef="Process_0nexhth" />
    <bpmn:participant id="Participant_0n672to" name="System" processRef="Process_1emzl5t" />
    <bpmn:messageFlow id="MessageFlow_1mpe7mx" sourceRef="IntermediateThrowEvent_1h1lv2j" targetRef="StartEvent_1vr0rge" />
    <bpmn:messageFlow id="MessageFlow_1ukufnc" sourceRef="Task_0cc5ouq" targetRef="Participant_1mie2ec" />
    <bpmn:messageFlow id="MessageFlow_0xehu7y" sourceRef="Participant_1mie2ec" targetRef="IntermediateThrowEvent_08x4axe" />
    <bpmn:messageFlow id="MessageFlow_0l4uf1z" sourceRef="EndEvent_11hd2z3" targetRef="IntermediateCatchEvent_1bllwyz" />
  </bpmn:collaboration>
  <bpmn:process id="Process_0m2y7r9" isExecutable="false">
    <bpmn:startEvent id="StartEvent_1c1jpiv">
      <bpmn:outgoing>SequenceFlow_0vqlpsq</bpmn:outgoing>
    </bpmn:startEvent>
    <bpmn:task id="Task_08znw06" name="Select service that needs payment">
      <bpmn:incoming>SequenceFlow_0vqlpsq</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_1bwqsjk</bpmn:outgoing>
    </bpmn:task>
    <bpmn:intermediateThrowEvent id="IntermediateThrowEvent_1h1lv2j">
      <bpmn:incoming>SequenceFlow_1bwqsjk</bpmn:incoming>
      <bpmn:incoming>SequenceFlow_14tvztv</bpmn:incoming>
      <bpmn:incoming>SequenceFlow_1ty09k4</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_0eave16</bpmn:outgoing>
      <bpmn:messageEventDefinition />
    </bpmn:intermediateThrowEvent>
    <bpmn:eventBasedGateway id="ExclusiveGateway_0wp9x6q">
      <bpmn:incoming>SequenceFlow_0eave16</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_1h7z3vq</bpmn:outgoing>
      <bpmn:outgoing>SequenceFlow_122dzjo</bpmn:outgoing>
    </bpmn:eventBasedGateway>
    <bpmn:intermediateCatchEvent id="IntermediateCatchEvent_1bllwyz">
      <bpmn:incoming>SequenceFlow_122dzjo</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_1l5zd3a</bpmn:outgoing>
      <bpmn:messageEventDefinition />
    </bpmn:intermediateCatchEvent>
    <bpmn:intermediateCatchEvent id="IntermediateCatchEvent_058rsjr">
      <bpmn:incoming>SequenceFlow_1h7z3vq</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_14tvztv</bpmn:outgoing>
      <bpmn:timerEventDefinition />
    </bpmn:intermediateCatchEvent>
    <bpmn:exclusiveGateway id="ExclusiveGateway_0lpaktq">
      <bpmn:incoming>SequenceFlow_1l5zd3a</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_1qtjyl9</bpmn:outgoing>
      <bpmn:outgoing>SequenceFlow_1ty09k4</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:endEvent id="EndEvent_0ksxtc6">
      <bpmn:incoming>SequenceFlow_1qtjyl9</bpmn:incoming>
    </bpmn:endEvent>
    <bpmn:sequenceFlow id="SequenceFlow_0vqlpsq" sourceRef="StartEvent_1c1jpiv" targetRef="Task_08znw06" />
    <bpmn:sequenceFlow id="SequenceFlow_1bwqsjk" sourceRef="Task_08znw06" targetRef="IntermediateThrowEvent_1h1lv2j" />
    <bpmn:sequenceFlow id="SequenceFlow_0eave16" sourceRef="IntermediateThrowEvent_1h1lv2j" targetRef="ExclusiveGateway_0wp9x6q" />
    <bpmn:sequenceFlow id="SequenceFlow_122dzjo" sourceRef="ExclusiveGateway_0wp9x6q" targetRef="IntermediateCatchEvent_1bllwyz" />
    <bpmn:sequenceFlow id="SequenceFlow_1h7z3vq" sourceRef="ExclusiveGateway_0wp9x6q" targetRef="IntermediateCatchEvent_058rsjr" />
    <bpmn:sequenceFlow id="SequenceFlow_14tvztv" sourceRef="IntermediateCatchEvent_058rsjr" targetRef="IntermediateThrowEvent_1h1lv2j" />
    <bpmn:sequenceFlow id="SequenceFlow_1l5zd3a" sourceRef="IntermediateCatchEvent_1bllwyz" targetRef="ExclusiveGateway_0lpaktq" />
    <bpmn:sequenceFlow id="SequenceFlow_1qtjyl9" sourceRef="ExclusiveGateway_0lpaktq" targetRef="EndEvent_0ksxtc6" />
    <bpmn:sequenceFlow id="SequenceFlow_1ty09k4" name="Failed transaction" sourceRef="ExclusiveGateway_0lpaktq" targetRef="IntermediateThrowEvent_1h1lv2j" />
    <bpmn:textAnnotation id="TextAnnotation_1y6qtau">
      <bpmn:text>1 minute</bpmn:text>
    </bpmn:textAnnotation>
    <bpmn:textAnnotation id="TextAnnotation_0dc90a1">
      <bpmn:text>Send request new payment</bpmn:text>
    </bpmn:textAnnotation>
    <bpmn:association id="Association_0iu36jc" sourceRef="IntermediateCatchEvent_058rsjr" targetRef="TextAnnotation_1y6qtau" />
    <bpmn:association id="Association_1950msq" sourceRef="IntermediateThrowEvent_1h1lv2j" targetRef="TextAnnotation_0dc90a1" />
  </bpmn:process>
  <bpmn:process id="Process_0nexhth" />
  <bpmn:process id="Process_1emzl5t">
    <bpmn:startEvent id="StartEvent_1vr0rge">
      <bpmn:outgoing>SequenceFlow_1bs0q7n</bpmn:outgoing>
      <bpmn:messageEventDefinition />
    </bpmn:startEvent>
    <bpmn:task id="Task_0cc5ouq" name="Connect to third party system">
      <bpmn:incoming>SequenceFlow_1bs0q7n</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_0ile1zc</bpmn:outgoing>
    </bpmn:task>
    <bpmn:intermediateCatchEvent id="IntermediateThrowEvent_08x4axe">
      <bpmn:incoming>SequenceFlow_0ile1zc</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_0p5hfro</bpmn:outgoing>
      <bpmn:messageEventDefinition />
    </bpmn:intermediateCatchEvent>
    <bpmn:endEvent id="EndEvent_11hd2z3">
      <bpmn:incoming>SequenceFlow_0p5hfro</bpmn:incoming>
      <bpmn:messageEventDefinition />
    </bpmn:endEvent>
    <bpmn:sequenceFlow id="SequenceFlow_1bs0q7n" sourceRef="StartEvent_1vr0rge" targetRef="Task_0cc5ouq" />
    <bpmn:sequenceFlow id="SequenceFlow_0ile1zc" sourceRef="Task_0cc5ouq" targetRef="IntermediateThrowEvent_08x4axe" />
    <bpmn:sequenceFlow id="SequenceFlow_0p5hfro" sourceRef="IntermediateThrowEvent_08x4axe" targetRef="EndEvent_11hd2z3" />
    <bpmn:textAnnotation id="TextAnnotation_03oesb9">
      <bpmn:text>Wait for response</bpmn:text>
    </bpmn:textAnnotation>
    <bpmn:textAnnotation id="TextAnnotation_0b9dgz5">
      <bpmn:text>Send transaction result to user</bpmn:text>
    </bpmn:textAnnotation>
    <bpmn:association id="Association_0t9q2g0" sourceRef="IntermediateThrowEvent_08x4axe" targetRef="TextAnnotation_03oesb9" />
    <bpmn:association id="Association_09cp6ge" sourceRef="EndEvent_11hd2z3" targetRef="TextAnnotation_0b9dgz5" />
  </bpmn:process>
  <bpmndi:BPMNDiagram id="BPMNDiagram_1">
    <bpmndi:BPMNPlane id="BPMNPlane_1" bpmnElement="Collaboration_185k3mm">
      <bpmndi:BPMNShape id="Participant_034zhgg_di" bpmnElement="Participant_034zhgg" isHorizontal="true">
        <dc:Bounds x="156" y="81" width="711" height="325" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Participant_1mie2ec_di" bpmnElement="Participant_1mie2ec" isHorizontal="true">
        <dc:Bounds x="156" y="761" width="621" height="135" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Participant_0n672to_di" bpmnElement="Participant_0n672to" isHorizontal="true">
        <dc:Bounds x="156" y="480" width="600" height="250" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="StartEvent_1c1jpiv_di" bpmnElement="StartEvent_1c1jpiv">
        <dc:Bounds x="200" y="271" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Task_08znw06_di" bpmnElement="Task_08znw06">
        <dc:Bounds x="286" y="249" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_0vqlpsq_di" bpmnElement="SequenceFlow_0vqlpsq">
        <di:waypoint x="236" y="289" />
        <di:waypoint x="286" y="289" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_1bwqsjk_di" bpmnElement="SequenceFlow_1bwqsjk">
        <di:waypoint x="386" y="289" />
        <di:waypoint x="436" y="289" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="IntermediateThrowEvent_1l0h9nq_di" bpmnElement="IntermediateThrowEvent_1h1lv2j">
        <dc:Bounds x="436" y="271" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="StartEvent_1s9deb9_di" bpmnElement="StartEvent_1vr0rge">
        <dc:Bounds x="203" y="599" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="MessageFlow_1mpe7mx_di" bpmnElement="MessageFlow_1mpe7mx">
        <di:waypoint x="454" y="307" />
        <di:waypoint x="454" y="453" />
        <di:waypoint x="221" y="453" />
        <di:waypoint x="221" y="599" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="Task_0cc5ouq_di" bpmnElement="Task_0cc5ouq">
        <dc:Bounds x="289" y="577" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_1bs0q7n_di" bpmnElement="SequenceFlow_1bs0q7n">
        <di:waypoint x="239" y="617" />
        <di:waypoint x="289" y="617" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="MessageFlow_1ukufnc_di" bpmnElement="MessageFlow_1ukufnc">
        <di:waypoint x="339" y="657" />
        <di:waypoint x="339" y="761" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_0ile1zc_di" bpmnElement="SequenceFlow_0ile1zc">
        <di:waypoint x="389" y="617" />
        <di:waypoint x="439" y="617" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="IntermediateCatchEvent_1xfmcsw_di" bpmnElement="IntermediateThrowEvent_08x4axe">
        <dc:Bounds x="439" y="599" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="TextAnnotation_03oesb9_di" bpmnElement="TextAnnotation_03oesb9">
        <dc:Bounds x="407" y="548" width="100" height="40" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="Association_0t9q2g0_di" bpmnElement="Association_0t9q2g0">
        <di:waypoint x="457" y="599" />
        <di:waypoint x="457" y="588" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="MessageFlow_0xehu7y_di" bpmnElement="MessageFlow_0xehu7y">
        <di:waypoint x="457" y="761" />
        <di:waypoint x="457" y="635" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_0p5hfro_di" bpmnElement="SequenceFlow_0p5hfro">
        <di:waypoint x="475" y="617" />
        <di:waypoint x="525" y="617" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="EndEvent_0cvjrgg_di" bpmnElement="EndEvent_11hd2z3">
        <dc:Bounds x="525" y="599" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="TextAnnotation_0b9dgz5_di" bpmnElement="TextAnnotation_0b9dgz5">
        <dc:Bounds x="493" y="645" width="100" height="54" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="Association_09cp6ge_di" bpmnElement="Association_09cp6ge">
        <di:waypoint x="543" y="635" />
        <di:waypoint x="543" y="645" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_0eave16_di" bpmnElement="SequenceFlow_0eave16">
        <di:waypoint x="472" y="289" />
        <di:waypoint x="522" y="289" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="EventBasedGateway_0awcdib_di" bpmnElement="ExclusiveGateway_0wp9x6q">
        <dc:Bounds x="522" y="264" width="50" height="50" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="IntermediateCatchEvent_058rsjr_di" bpmnElement="IntermediateCatchEvent_058rsjr">
        <dc:Bounds x="607" y="202" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_1h7z3vq_di" bpmnElement="SequenceFlow_1h7z3vq">
        <di:waypoint x="547" y="264" />
        <di:waypoint x="547" y="220" />
        <di:waypoint x="607" y="220" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="TextAnnotation_1y6qtau_di" bpmnElement="TextAnnotation_1y6qtau">
        <dc:Bounds x="638" y="174" width="100" height="30" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="Association_0iu36jc_di" bpmnElement="Association_0iu36jc">
        <di:waypoint x="641" y="212" />
        <di:waypoint x="658" y="204" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_14tvztv_di" bpmnElement="SequenceFlow_14tvztv">
        <di:waypoint x="625" y="202" />
        <di:waypoint x="625" y="126" />
        <di:waypoint x="454" y="126" />
        <di:waypoint x="454" y="271" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="TextAnnotation_0dc90a1_di" bpmnElement="TextAnnotation_0dc90a1">
        <dc:Bounds x="349" y="169" width="100" height="40" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="Association_1950msq_di" bpmnElement="Association_1950msq">
        <di:waypoint x="445" y="273" />
        <di:waypoint x="410" y="209" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="IntermediateCatchEvent_1bllwyz_di" bpmnElement="IntermediateCatchEvent_1bllwyz">
        <dc:Bounds x="609" y="339" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="MessageFlow_0l4uf1z_di" bpmnElement="MessageFlow_0l4uf1z">
        <di:waypoint x="543" y="599" />
        <di:waypoint x="543" y="487" />
        <di:waypoint x="627" y="487" />
        <di:waypoint x="627" y="375" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_122dzjo_di" bpmnElement="SequenceFlow_122dzjo">
        <di:waypoint x="547" y="314" />
        <di:waypoint x="547" y="357" />
        <di:waypoint x="609" y="357" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="ExclusiveGateway_0lpaktq_di" bpmnElement="ExclusiveGateway_0lpaktq" isMarkerVisible="true">
        <dc:Bounds x="696" y="264" width="50" height="50" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_1l5zd3a_di" bpmnElement="SequenceFlow_1l5zd3a">
        <di:waypoint x="627" y="339" />
        <di:waypoint x="627" y="289" />
        <di:waypoint x="696" y="289" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="EndEvent_0ksxtc6_di" bpmnElement="EndEvent_0ksxtc6">
        <dc:Bounds x="797" y="271" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_1qtjyl9_di" bpmnElement="SequenceFlow_1qtjyl9">
        <di:waypoint x="746" y="289" />
        <di:waypoint x="797" y="289" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_1ty09k4_di" bpmnElement="SequenceFlow_1ty09k4">
        <di:waypoint x="721" y="264" />
        <di:waypoint x="721" y="101" />
        <di:waypoint x="454" y="101" />
        <di:waypoint x="454" y="271" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="722" y="192" width="87" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
    </bpmndi:BPMNPlane>
  </bpmndi:BPMNDiagram>
</bpmn:definitions>
